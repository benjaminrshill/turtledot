(this.webpackJsonpturtledot=this.webpackJsonpturtledot||[]).push([[0],{15:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var s=n(0),i=n(1),o=n.n(i),a=n(24),r=n.n(a),c=n(2),l=n(5),d=n(6),u=n(12),p=n(8),m=n(7),h=n(13),j=n(3),g=n(48),b=n(25),f=n(17),k=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){s.props.id&&s.setState({id:s.props.id,text:s.props.text,type:s.props.type,number:s.props.number,color:s.props.color})},s.handleInput=function(e){var t=e.target.name,n=e.target.value;s.setState(Object(f.a)({},t,n))},s.setColor=function(e){s.setState({color:e.target.value})},s.updateItem=function(){s.validate()&&(s.props.onUpdateItem(Object(b.a)({},s.state)),s.setState({id:"",text:"",type:!0,number:1,color:"color0"}))},s.switchType=function(){s.setState((function(e){return{type:!e.type}}))},s.validate=function(){if(!(s.state.text.length>0&&s.state.text.length<12&&s.state.number>0))return!1;if(s.state.type){if(s.state.number<8)return!0}else if(s.state.number<1e5)return!0},s.state={id:"",text:"",type:!0,number:1,color:"color0"},s}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("section",{children:[Object(s.jsxs)("div",{className:"item",children:[Object(s.jsx)("input",{type:"text",name:"text",value:this.state.text,onChange:this.handleInput,className:"text"}),Object(s.jsx)("button",{name:"type",value:this.state.type,onClick:this.switchType,className:"type",children:this.state.type?Object(s.jsx)("div",{className:"day spot open"}):"#"}),Object(s.jsx)("input",{type:"number",name:"number",min:"1",max:"99999",value:this.state.number,onChange:this.handleInput,className:"number"}),Object(s.jsx)("button",{className:"color "+this.state.color}),Object(s.jsx)("button",{onClick:this.props.onCancelUpdate,className:"plus-sign delete",children:"+"})]}),Object(s.jsxs)("div",{className:"edit-box",children:[Object(s.jsx)("div",{className:"palette",children:this.props.colors.map((function(t){return Object(s.jsx)("button",{value:t,className:"palette-square "+t,onClick:e.setColor},t)}))}),Object(s.jsx)("div",{className:"edit-box-buttons",children:Object(s.jsx)("button",{onClick:this.updateItem,className:"edit-complete",children:"\u2713"})})]})]})}}]),n}(o.a.Component);n(15);function O(e){return e>99999?"100k":e>9999?e.toString().slice(0,2)+"k":e>999?e%7===0?e.toString().slice(0,2)+"k":e.toString().slice(0,1)+"."+e.toString().slice(1,2)+"k":e%1!==0?Math.ceil(e):e}var v=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){s.checkInUse()},s.componentDidUpdate=function(e,t,n){e!==s.props&&s.props.currentlyAdding&&s.cancelEdit()},s.startEdit=function(){s.setState({editing:!0}),s.props.onCancelNewItem()},s.cancelEdit=function(){s.setState({editing:!1})},s.editItem=function(e){var t=JSON.parse(localStorage.getItem("items")),n=t.findIndex((function(t){return t.id===e.id}));t[n]=e,localStorage.setItem("items",JSON.stringify(t)),s.props.onEditIteminState(t),s.setState({editing:!1})},s.checkInUse=function(){localStorage.getItem("weeks")&&JSON.parse(localStorage.getItem("weeks")).forEach((function(e){e.items.find((function(e){return e[0]===s.props.id}))&&s.setState({inUse:!0})}))},s.state={editing:!1,inUse:!1},s.cutNumber=O.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{children:this.state.editing?Object(s.jsx)(k,{id:this.props.id,text:this.props.text,type:this.props.type,number:this.props.number,color:this.props.color,colors:this.props.colors,onUpdateItem:this.editItem,onCancelUpdate:this.cancelEdit}):Object(s.jsxs)("div",{className:"item",children:[Object(s.jsx)("div",{onClick:this.startEdit,className:"text",children:this.props.text}),Object(s.jsx)("button",{onClick:this.startEdit,className:"type",children:this.props.type?Object(s.jsx)("div",{className:"day spot open"}):"#"}),Object(s.jsx)("button",{onClick:this.startEdit,className:"number",children:this.cutNumber(this.props.number)}),Object(s.jsx)("button",{onClick:this.startEdit,className:"color "+this.props.color}),Object(s.jsx)("button",{value:this.props.id,disabled:this.state.inUse,onClick:this.props.onDeleteItem,className:"plus-sign delete",children:"+"})]})})}}]),n}(o.a.Component),x=(n(33),function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).newItem=function(){s.setState({adding:!0})},s.cancelNewItem=function(){s.setState({adding:!1})},s.addItem=function(e){var t={id:Object(g.a)(),text:e.text,type:e.type,number:e.number,color:e.color},n=[];localStorage.getItem("items")&&(n=JSON.parse(localStorage.getItem("items"))),n.push(t),localStorage.setItem("items",JSON.stringify(n)),s.props.onNewItemToState(t)},s.editItemInState=function(e){s.props.onUpdateState(e)},s.deleteItem=function(e){if(window.confirm("Really delete?")){var t=JSON.parse(localStorage.getItem("items")).filter((function(t){return t.id!==e.target.value}));localStorage.setItem("items",JSON.stringify(t)),s.props.onUpdateState(t)}},s.state={adding:!1},s}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("main",{id:"items",children:[Object(s.jsx)("h1",{children:"Items"}),this.props.items.map((function(t){return Object(s.jsx)(v,{id:t.id,text:t.text,type:t.type,number:t.number,color:t.color,colors:e.props.colors,currentlyAdding:e.state.adding,onEditIteminState:e.editItemInState,onCancelNewItem:e.cancelNewItem,onDeleteItem:e.deleteItem},t.id)})),this.state.adding?Object(s.jsx)(k,{colors:this.props.colors,onUpdateItem:this.addItem,onCancelUpdate:this.cancelNewItem}):Object(s.jsx)("button",{onClick:this.newItem,className:"plus-sign add",children:"+"})]})}}]),n}(o.a.Component)),w=n(20),I=n.n(w),N=n(26),y=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){s.doNumbers()},s.componentDidUpdate=function(e,t,n){e!==s.props&&s.doNumbers()},s.doNumbers=function(){var e=s.props.todo.map((function(e){return e>=1?1:0})),t=e.reduce((function(e,t){return e+t}),0),n=t>+s.props.number,i=t<+s.props.number,o=s.cutNumber(s.props.number),a=s.cutNumber(s.props.number/t);s.setState({onesAndZeroes:e,currentNumber:t,tooHigh:n,tooLow:i,cutNum:o,goalNum:a})},s.state={editing:!1,onesAndZeroes:"",currentNumber:"",tooHigh:"",tooLow:"",cutNum:"",goalNum:""},s.cutNumber=O.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("tr",{draggable:!0,id:this.props.id+this.props.weekBeginning,"data-index":this.props.index,"data-dragid":this.props.id,"data-dragweek":this.props.weekBeginning,className:this.props.color,onDragStart:this.props.onDragStart,onDragOver:this.props.onDragOver,onDragLeave:this.props.onDragLeave,onDrop:this.props.onDrop,children:[Object(s.jsxs)("td",{id:this.props.id,className:"week-item left-column",children:[Object(s.jsx)("button",{value:this.props.id,onClick:this.props.onRemoveItem,className:"week-item-delete",children:"\u2014"}),this.props.text]}),Object(s.jsx)("td",{className:"main-cell week-item-number"+(this.props.type&&(this.state.tooHigh?" week-number-arrow-down":this.state.tooLow?" week-number-arrow-up":"")),children:this.state.cutNum}),this.props.todo.map((function(t,n){return Object(s.jsx)("td",{id:e.props.id,"data-day":n,"data-week":e.props.weekBeginning,onClick:t<100?e.props.onChangeDay:void 0,className:"main-cell week-spots",children:Object(s.jsx)("div",{className:e.props.type?"spot grey"+(100===t?" closed":1===t?" open":""):"type-cell grey",children:!e.props.type&&t>0?e.state.goalNum:""})},e.props.id+n)}))]})}}]),n}(o.a.Component),S=(n(35),{}),W=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){s.createWeek().then()},s.componentDidUpdate=function(e,t,n){e!==s.props&&s.createWeek().then()},s.createWeek=Object(N.a)(I.a.mark((function e(){var t,n,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=Object(c.a)(s.props.scida.items),e.next=4,s.props.scida.weeks.find((function(e){return e.date===s.props.weekBeginning}));case 4:void 0!==(i=e.sent)&&i.items.forEach((function(e){if(n.find((function(t){return t.id===e[0]}))){var s=n.findIndex((function(t){return t.id===e[0]})),i=n.splice(s,1);i[0].todo=e[1],t.push(i[0])}})),s.setState({selected:[].concat(t),unselected:Object(c.a)(n)});case 7:case"end":return e.stop()}}),e)}))),s.saveWeek=function(e){s.props.onAddItemToWeek(e.currentTarget.value,s.props.weekBeginning)},s.addAllItems=function(){var e=[];s.state.unselected.forEach((function(t){return e.push(t.id)})),s.props.onAddAllItemsToWeek(e,s.props.weekBeginning)},s.copyAllItems=function(){if(localStorage.getItem("weeks")){var e=JSON.parse(localStorage.getItem("weeks")).find((function(e){return e.date===s.props.scida.thisWeekBeginning}));e.items.forEach((function(e){return e[1].forEach((function(e,t,n){n[t]>1&&(n[t]=1)}))})),s.props.onCopyAllFromThisWeek(s.props.weekBeginning,e.items)}},s.onDragStart=function(e){S.item=e.currentTarget.id},s.onDragOver=function(e){e.preventDefault();var t=document.getElementById(S.item),n=e.currentTarget,s=n.parentNode;S.rect=n.getBoundingClientRect(),s.dataset.dragweek===n.dataset.dragweek&&(n===t?e.dataTransfer.dropEffect="none":t.dataset.dragweek===n.dataset.dragweek&&(n.classList.add("scooch"),e.dataTransfer.dropEffect="move"))},s.onDragLeave=function(e){(e.clientY<S.rect.top||e.clientY>S.rect.bottom)&&e.currentTarget.classList.remove("scooch")},s.onDrop=function(e){e.preventDefault(),e.currentTarget.parentNode.childNodes.forEach((function(e){return e.classList.remove("scooch")}));var t=document.getElementById(S.item),n=e.currentTarget;s.props.onMoveItemInWeek(+t.dataset.index,+n.dataset.index,n.dataset.dragweek)},s.removeItem=function(e){window.confirm("Really remove?")&&s.props.onRemoveItemFromWeek(e.target.value,s.props.weekBeginning)},s.saveDay=function(e){s.props.onChangeDay(e,s.props.weekBeginning)},s.state={selected:[{id:"",text:"",number:0,color:"",todo:[0,0,0,0,0,0,0]}],unselected:[],copyWeek:[]},s}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"week",children:[Object(s.jsx)("h2",{children:this.props.weekName}),Object(s.jsx)("section",{children:Object(s.jsxs)("table",{children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{className:"week-date left-column",children:this.props.weekBeginning}),Object(s.jsx)("td",{className:"week-date"}),this.props.scida.days.map((function(t,n){return Object(s.jsx)("td",{className:"day",children:t},t+n+e.props.weekBeginning)}))]})}),Object(s.jsx)("tbody",{"data-dragweek":this.props.weekBeginning,children:this.state.selected.map((function(t,n){return Object(s.jsx)(y,{id:t.id,index:n,text:t.text,type:t.type,number:t.number,color:t.color,todo:t.todo,weekBeginning:e.props.weekBeginning,onChangeDay:e.saveDay,onDragStart:e.onDragStart,onDragOver:e.onDragOver,onDragLeave:e.onDragLeave,onDrop:e.onDrop,onRemoveItem:e.removeItem},t.id+e.props.weekBeginning)}))})]})}),this.state.unselected.length>0&&Object(s.jsxs)("div",{className:"edit-box",children:[this.state.selected.length<1&&"Next Week"===this.props.weekName&&Object(s.jsx)("button",{className:"addAllItems copy",onClick:this.copyAllItems,children:"copy schedule from this week"}),Object(s.jsx)("button",{className:"addAllItems",onClick:this.addAllItems,children:"add all items"}),Object(s.jsx)("div",{className:"items-list",children:this.state.unselected.map((function(t){return Object(s.jsx)("button",{value:t.id,className:"items-list-item "+t.color,onClick:e.saveWeek,children:t.text},t.id+e.props.weekBeginning+"u")}))})]})]})}}]),n}(o.a.Component),D=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("main",{id:"arrange",children:[Object(s.jsx)("h1",{children:"Arrange"}),Object(s.jsx)(W,{weekName:"Next Week",scida:this.props.scida,weekBeginning:this.props.scida.nextWeekBeginning,onAddItemToWeek:this.props.onAddItemToWeek,onAddAllItemsToWeek:this.props.onAddAllItemsToWeek,onCopyAllFromThisWeek:this.props.onCopyAllFromThisWeek,onMoveItemInWeek:this.props.onMoveItemInWeek,onRemoveItemFromWeek:this.props.onRemoveItemFromWeek,onChangeDay:this.props.onChangeDay},"nextWeek"),Object(s.jsx)(W,{weekName:"This Week",scida:this.props.scida,weekBeginning:this.props.scida.thisWeekBeginning,onAddItemToWeek:this.props.onAddItemToWeek,onAddAllItemsToWeek:this.props.onAddAllItemsToWeek,onMoveItemInWeek:this.props.onMoveItemInWeek,onRemoveItemFromWeek:this.props.onRemoveItemFromWeek,onChangeDay:this.props.onChangeDay},"thisWeek")]})}}]),n}(o.a.Component);function C(e){var t=e.todo.reduce((function(e,t){return e+t}),0),n=t>=100*+e.number,i=0!==t&&t%100===0,o=0;e.todo.forEach((function(e){return e>0?o++:null}));var a=O(e.number/o),r=(new Date).getDay()-1;return Object(s.jsxs)("tr",{id:e.id+e.weekBeginning,className:e.type?n?"allDone":e.color:i?"allDone":e.color,children:[Object(s.jsx)("td",{id:e.id,className:"week-item left-column",children:e.text}),Object(s.jsx)("td",{className:"main-cell week-item-number",children:O(e.number)}),e.todo.map((function(t,n){return Object(s.jsx)("td",{id:e.id,"data-day":n,"data-week":e.weekBeginning,onClick:e.onDoDay,className:"main-cell week-spots"+(e.archive||r!==n?"":e.color),children:Object(s.jsx)("div",{className:e.type?"spot"+(100===t?" closed":1===t?" open":""):"type-cell"+(1===t?" grey":""),children:!e.type&&t>0?a:""})},e.id+n)}))]})}var A=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){s.props.editable?s.createWeek():s.getLastWeek()},s.componentDidUpdate=function(e,t,n){e!==s.props&&(s.props.editable?s.createWeek():s.getLastWeek())},s.updateArchive=function(){var e=[],t={date:s.props.scida.thisWeekBeginning,items:Object(c.a)(s.state.items)};if(localStorage.getItem("archive")){var n=(e=JSON.parse(localStorage.getItem("archive"))).findIndex((function(e){return e.date===s.props.scida.thisWeekBeginning}));-1!==n?e[n]=t:e.unshift(t)}else e.unshift(t);localStorage.setItem("archive",JSON.stringify(e))},s.createWeek=function(){var e=[],t=Object(c.a)(s.props.scida.items),n=s.props.scida.weeks.find((function(e){return e.date===s.props.weekBeginning}));void 0!==n&&n.items.forEach((function(n){var s=t.findIndex((function(e){return e.id===n[0]})),i=t.splice(s,1);i[0].todo=n[1],e.push(i[0])})),s.setState({items:[].concat(e)})},s.doDay=function(e){s.props.onChangeDay(e,s.props.weekBeginning,1),s.updateArchive()},s.getLastWeek=function(){if(localStorage.getItem("archive")){var e=JSON.parse(localStorage.getItem("archive")).find((function(e){return e.date===s.props.scida.lastWeekBeginning}));void 0!==e&&s.setState({items:Object(c.a)(e.items)})}},s.state={date:"",items:[{id:"",text:"",number:"",color:"",todo:[0,0,0,0,0,0,0]}]},s}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"week",children:[Object(s.jsx)("h2",{children:this.props.weekName}),Object(s.jsx)("section",{children:Object(s.jsxs)("table",{children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{className:"week-date left-column",children:this.props.weekBeginning}),Object(s.jsx)("td",{className:"week-date"}),this.props.scida.days.map((function(t,n){return Object(s.jsx)("td",{className:"day",children:t},t+n+e.props.weekBeginning)}))]})}),Object(s.jsx)("tbody",{children:this.props.archive?this.props.week.items.map((function(t,n){return Object(s.jsx)(C,{id:t.id,index:n,text:t.text,type:t.type,number:t.number,color:t.color,todo:t.todo,weekBeginning:e.props.weekBeginning,archive:!0,onDoDay:e.props.editable?e.doDay:void 0},t.id+e.props.weekBeginning)})):this.state.items.map((function(t,n){return Object(s.jsx)(C,{id:t.id,index:n,text:t.text,type:t.type,number:t.number,color:t.color,todo:t.todo,weekBeginning:e.props.weekBeginning,archive:!1,onDoDay:e.props.editable?e.doDay:void 0},t.id+e.props.weekBeginning)}))})]})})]})}}]),n}(o.a.Component),B=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("main",{id:"arrange",children:[Object(s.jsx)("h1",{children:"Doit"}),Object(s.jsx)(A,{weekName:"This Week",editable:!0,scida:this.props.scida,weekBeginning:this.props.scida.thisWeekBeginning,onChangeDay:this.props.onChangeDay},"thisWeek")]})}}]),n}(o.a.Component);function T(e){var t=function(){if(localStorage.getItem("archive"))return JSON.parse(localStorage.getItem("archive"))}();return Object(s.jsxs)("main",{id:"arrange",children:[Object(s.jsx)("h1",{children:"Archive"}),t.map((function(t,n){return Object(s.jsx)(A,{weekName:t.date===e.scida.thisWeekBeginning?"This Week":e.scida.lastWeekBeginning?"Last Week":"",scida:e.scida,weekBeginning:t.date,week:t,archive:!0,editable:!1},"archiveWeek"+n)}))]})}n(36);function E(){return Object(s.jsxs)("nav",{children:[Object(s.jsxs)(h.b,{to:"/Items",className:"menu-item",activeClassName:"here",children:[Object(s.jsx)("div",{className:"menu-icon",children:"+"}),Object(s.jsx)("div",{className:"menu-text",children:"Items"})]}),Object(s.jsxs)(h.b,{to:"/Arrange",className:"menu-item",activeClassName:"here",children:[Object(s.jsx)("div",{className:"menu-icon",children:Object(s.jsx)("span",{})}),Object(s.jsx)("div",{className:"menu-text",children:"Arrange"})]}),Object(s.jsxs)(h.b,{to:"/Doit",className:"menu-item",activeClassName:"here",children:[Object(s.jsx)("div",{className:"menu-icon",children:Object(s.jsx)("span",{className:"menu-icon-doit"})}),Object(s.jsx)("div",{className:"menu-text",children:"Doit!"})]}),Object(s.jsxs)(h.b,{to:"/Archive",className:"menu-item",activeClassName:"here",children:[Object(s.jsx)("div",{className:"menu-icon",style:{fontSize:"3rem"},children:"\u2190"}),Object(s.jsx)("div",{className:"menu-text",children:"Archive"})]}),Object(s.jsxs)(h.b,{to:"/Settings",className:"menu-item",activeClassName:"here",children:[Object(s.jsx)("div",{className:"menu-icon",children:"\u2026"}),Object(s.jsx)("div",{className:"menu-text",children:"Settings"})]})]})}var J=n.p+"static/media/turtledot.2097928d.svg";n(42);function U(e){return Object(s.jsx)("header",{children:Object(s.jsx)("img",{src:J,className:"logo",alt:"logo"})})}n(43);function L(e){return Object(s.jsx)("main",{children:Object(s.jsxs)("section",{className:"clear",children:[Object(s.jsx)("button",{className:"clear-button",onClick:e.onClearItems,children:"clear items"}),Object(s.jsx)("button",{className:"clear-button",onClick:e.onClearWeeks,children:"clear weeks"}),Object(s.jsx)("button",{className:"clear-button",onClick:e.onClearAll,children:"clear all"})]})})}function F(e){return e.sort((function(e,t){return e.color>t.color?1:-1}))}n(44);var M=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){s.getItems(),s.getWeeks()},s.componentDidUpdate=function(e,t,n){e!==s.props&&(s.getItems(),s.getWeeks())},s.newItemToState=function(e){s.setState({items:[].concat(Object(c.a)(s.state.items),[e])})},s.updateState=function(e){s.setState({items:Object(c.a)(e)})},s.getItems=function(){if(localStorage.getItem("items")){var e=JSON.parse(localStorage.getItem("items"));F(e),s.setState({items:Object(c.a)(e)})}},s.getWeeks=function(){if(localStorage.getItem("weeks")){var e=JSON.parse(localStorage.getItem("weeks"));s.setState({weeks:Object(c.a)(e)})}},s.getWeekBeginning=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date,n=t.getDay();function s(e){return e<10?"0"+e:e}return n>1?t.setDate(t.getDate()-n+1+e):0===n?t.setDate(t.getDate()-6+e):t.setDate(t.getDate()+e),t.getFullYear()+"/"+s(t.getMonth()+1)+"/"+s(t.getDate())},s.addItemToWeek=function(e,t){var n=Object(c.a)(s.state.weeks),i=n.find((function(e){return e.date===t}));if(void 0===i){var o={date:t,items:[[e,[0,0,0,0,0,0,0]]]};n.push(o)}else i.items.push([e,[0,0,0,0,0,0,0]]);localStorage.setItem("weeks",JSON.stringify(n)),s.setState({weeks:Object(c.a)(n)})},s.addAllItemsToWeek=function(e,t){var n=Object(c.a)(s.state.weeks),i=n.find((function(e){return e.date===t}));if(void 0===i){var o={date:t,items:[]};e.forEach((function(e){return o.items.push([e,[0,0,0,0,0,0,0]])})),n.push(o)}else e.forEach((function(e){return i.items.push([e,[0,0,0,0,0,0,0]])}));localStorage.setItem("weeks",JSON.stringify(n)),s.setState({weeks:Object(c.a)(n)})},s.copyAllFromThisWeek=function(e,t){var n=Object(c.a)(s.state.weeks),i=n.find((function(t){return t.date===e}));if(void 0===i){var o={date:e,items:Object(c.a)(t)};n.push(o)}else i.items=Object(c.a)(t);localStorage.setItem("weeks",JSON.stringify(n)),s.setState({weeks:Object(c.a)(n)})},s.moveItemInWeek=function(e,t,n){var i,o=Object(c.a)(s.state.weeks),a=o.find((function(e){return e.date===n})),r=a.items.splice(e,1);console.log(a),(i=a.items).splice.apply(i,[t,0].concat(Object(c.a)(r))),localStorage.setItem("weeks",JSON.stringify(o)),s.setState({weeks:Object(c.a)(o)})},s.removeItemFromWeek=function(e,t){var n=Object(c.a)(s.state.weeks),i=n.find((function(e){return e.date===t})),o=i.items.filter((function(t){return t[0]!==e}));i.items=Object(c.a)(o),localStorage.setItem("weeks",JSON.stringify(n)),s.setState({weeks:Object(c.a)(n)})},s.changeDay=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Object(c.a)(s.state.weeks),o=i.find((function(e){return e.date===t})),a=o.items.find((function(t){return t[0]===e.currentTarget.id})),r=e.currentTarget.dataset.day;n>0?a[1][r]>0&&(a[1][r]=1===a[1][r]?100:1):a[1][r]=a[1][r]>0?0:1,localStorage.setItem("weeks",JSON.stringify(i)),s.setState({weeks:Object(c.a)(i)})},s.clearItems=function(){window.confirm("Really delete all items? This cannot be undone!")&&(localStorage.removeItem("items"),s.setState({items:[]}))},s.clearWeeks=function(){window.confirm("Really delete all weeks? This cannot be undone!")&&(localStorage.removeItem("weeks"),s.setState({weeks:[{date:"",items:[]}]}))},s.clearAll=function(){window.confirm("Really delete all data? This cannot be undone!")&&(localStorage.clear(),s.setState({items:[],weeks:[{date:"",items:[]}]}))},s.state={items:[],weeks:[{date:"",items:[]}],lastWeekBeginning:s.getWeekBeginning(-7),thisWeekBeginning:s.getWeekBeginning(),nextWeekBeginning:s.getWeekBeginning(7),colors:["color0","color1","color2","color3","color4","color5","color6","color7","color8","color9"],days:["M","T","W","T","F","S","S"]},s.sortColor=F.bind(Object(u.a)(s)),s}return Object(d.a)(n,[{key:"render",value:function(){return Object(s.jsxs)(h.a,{basename:"/turtledot",children:[Object(s.jsx)(U,{}),Object(s.jsx)("div",{className:"bgPanel"}),Object(s.jsxs)(j.d,{children:[Object(s.jsx)(j.b,{path:"/Items",children:Object(s.jsx)(x,{items:this.state.items,colors:this.state.colors,onNewItemToState:this.newItemToState,onUpdateState:this.updateState})}),Object(s.jsx)(j.b,{path:"/Arrange",children:Object(s.jsx)(D,{scida:this.state,onChangeDay:this.changeDay,onAddItemToWeek:this.addItemToWeek,onAddAllItemsToWeek:this.addAllItemsToWeek,onCopyAllFromThisWeek:this.copyAllFromThisWeek,onMoveItemInWeek:this.moveItemInWeek,onRemoveItemFromWeek:this.removeItemFromWeek})}),Object(s.jsx)(j.b,{path:"/Doit",children:Object(s.jsx)(B,{scida:this.state,onChangeDay:this.changeDay})}),Object(s.jsx)(j.b,{path:"/Archive",children:Object(s.jsx)(T,{scida:this.state})}),Object(s.jsx)(j.b,{path:"/Settings",children:Object(s.jsx)(L,{onClearItems:this.clearItems,onClearWeeks:this.clearWeeks,onClearAll:this.clearAll})}),Object(s.jsx)(j.b,{path:"/",children:Object(s.jsx)(j.a,{to:"/Doit"})})]}),Object(s.jsx)(E,{})]})}}]),n}(o.a.Component),R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(45);r.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(M,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/turtledot",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/turtledot","/service-worker.js");R?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var s=n.headers.get("content-type");404===n.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):H(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):H(t,e)}))}}()}},[[46,1,2]]]);
//# sourceMappingURL=main.1e8b6100.chunk.js.map